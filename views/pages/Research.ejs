<!DOCTYPE html>
<html lang="<%= lang === 'eng' ? 'en' : 'ko' %>" class="index-page">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= lang === 'eng' ? 'Research - OS LAB' : '연구 활동 - OS LAB' %></title>
    <link rel="icon" href="/images/Favi.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/css/reset.css" />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="stylesheet" href="/css/Research.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
  </head>
  <body>
    <%- include('../partials/header') %>

    <main class="research-main">
      <div class="container">
        <!-- 페이지 헤더 -->
        <div class="page-header" data-aos="fade-down">
          <h1 class="title-heading" id="researchPageTitle">
            <%= lang === 'eng' ? 'Research Projects' : '연구 활동' %>
          </h1>
          <p class="subtitle" id="researchPageSubtitle">
            <%= lang === 'eng' ? 'Explore our latest research and development projects' : '최신 연구 및 개발 프로젝트를 살펴보세요' %>
          </p>
        </div>

        <!-- 연구 항목 그리드 -->
        <div class="research-grid" id="researchGrid">
          <div class="loading-wrapper">
            <div class="loading-spinner"></div>
            <p class="loading-text">
              <%= lang === 'eng' ? 'Loading research projects...' : '연구 프로젝트를 불러오는 중...' %>
            </p>
          </div>
        </div>
      </div>
    </main>

    <!-- 연구 상세정보 모달 - 노션 스타일로 변경 -->
    <div class="modal-overlay" id="researchModalOverlay">
      <div class="research-modal">
        <!-- 닫기 버튼 -->
        <button class="modal-close" id="modalCloseBtn">
          <i class="fas fa-times"></i>
        </button>
        
        <!-- 노션 스타일 헤더 -->
        <div class="notion-header">
          <h1 id="modalTitle" class="notion-title"></h1>
          <div class="notion-metadata">
            <div class="metadata-item">
              <i class="far fa-calendar"></i>
              <span id="modalDate" class="modal-date"></span>
            </div>
            <!-- 깃허브 링크 아이템 추가 -->
            <div class="metadata-item" id="headerGithubLink">
              <i class="fab fa-github"></i>
              <a id="headerGithubUrl" href="#" target="_blank">
                <span id="headerGithubText">
                  <%= lang === 'eng' ? 'View on GitHub' : '깃허브에서 보기' %>
                </span>
              </a>
            </div>
          </div>
        </div>
        
        <!-- 모달 콘텐츠 - 스크롤 영역 -->
        <div class="notion-content">
          <div class="loading-wrapper" id="modalLoading">
            <div class="loading-spinner"></div>
            <p class="loading-text">
              <%= lang === 'eng' ? 'Loading content...' : '내용을 불러오는 중...' %>
            </p>
          </div>
          <div id="markdownContent" class="markdown-content"></div>
        </div>

      </div>
    </div>

    <%- include('../partials/footer') %>
    <script src="/js/cookies.js"></script>
    <script src="/js/language-utils.js"></script>
    <script src="/js/navbar.js"></script>
    <script src="/js/research-lang.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@4.0.0/marked.min.js"></script>
    <script src="/js/markdown-viewer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
      AOS.init({
        duration: 700,
        once: true,
        offset: 50,
      });
    </script>
  </body>
</html>
